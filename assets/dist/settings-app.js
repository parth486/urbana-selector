import{t as Se,bn as Pe,bo as je,bq as Oe,y as Fe,E as Re,n as de,Y as De,e as ne,bt as Te,a9 as Ae,$ as Ie,A as Ee,G as Le,c as $,m as _,B as ee,a1 as Ve,bg as ze,C as Y,f as We,aa as ae,b as a,j as e,i as O,k as me,F as he,I as s,g as y,h as v,d as M,l as q,J as Q,s as $e,o as Ge,H,p as Me,a_ as Be}from"./iconPatch.js";import{a as Ue,b as Xe,d as Ye,c as J,e as qe,m as He,u as Je}from"./index.js";import{p as Ke,c as se}from"./chunk-XVMALT6H.js";import{t as fe,a as K,c as L}from"./chunk-ML27DD5T.js";var oe=Se({slots:{base:"group relative max-w-fit inline-flex items-center justify-start cursor-pointer touch-none tap-highlight-transparent select-none",wrapper:["px-1","relative","inline-flex","items-center","justify-start","shrink-0","overflow-hidden","bg-default-200","rounded-full",...je],thumb:["z-10","flex","items-center","justify-center","bg-white","shadow-small","rounded-full","origin-right","pointer-events-none"],hiddenInput:Pe,startContent:"z-0 absolute start-1.5 text-current",endContent:"z-0 absolute end-1.5 text-default-600",thumbIcon:"text-black",label:"relative text-foreground select-none ms-2"},variants:{color:{default:{wrapper:["group-data-[selected=true]:bg-default-400","group-data-[selected=true]:text-default-foreground"]},primary:{wrapper:["group-data-[selected=true]:bg-primary","group-data-[selected=true]:text-primary-foreground"]},secondary:{wrapper:["group-data-[selected=true]:bg-secondary","group-data-[selected=true]:text-secondary-foreground"]},success:{wrapper:["group-data-[selected=true]:bg-success","group-data-[selected=true]:text-success-foreground"]},warning:{wrapper:["group-data-[selected=true]:bg-warning","group-data-[selected=true]:text-warning-foreground"]},danger:{wrapper:["group-data-[selected=true]:bg-danger","data-[selected=true]:text-danger-foreground"]}},size:{sm:{wrapper:"w-10 h-6",thumb:["w-4 h-4 text-tiny","group-data-[selected=true]:ms-4"],endContent:"text-tiny",startContent:"text-tiny",label:"text-small"},md:{wrapper:"w-12 h-7",thumb:["w-5 h-5 text-small","group-data-[selected=true]:ms-5"],endContent:"text-small",startContent:"text-small",label:"text-medium"},lg:{wrapper:"w-14 h-8",thumb:["w-6 h-6 text-medium","group-data-[selected=true]:ms-6"],endContent:"text-medium",startContent:"text-medium",label:"text-large"}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{wrapper:"transition-none",thumb:"transition-none"},false:{wrapper:"transition-background",thumb:"transition-all",startContent:["opacity-0","scale-50","transition-transform-opacity","group-data-[selected=true]:scale-100","group-data-[selected=true]:opacity-100"],endContent:["opacity-100","transition-transform-opacity","group-data-[selected=true]:translate-x-3","group-data-[selected=true]:opacity-0"]}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1},compoundVariants:[{disableAnimation:!1,size:"sm",class:{thumb:["group-data-[pressed=true]:w-5","group-data-[selected]:group-data-[pressed]:ml-3"]}},{disableAnimation:!1,size:"md",class:{thumb:["group-data-[pressed=true]:w-6","group-data-[selected]:group-data-[pressed]:ml-4"]}},{disableAnimation:!1,size:"lg",class:{thumb:["group-data-[pressed=true]:w-7","group-data-[selected]:group-data-[pressed]:ml-5"]}}]});function Qe(t,b,l){let{labelProps:w,inputProps:m,isSelected:f,isPressed:i,isDisabled:S,isReadOnly:h}=Oe(t,b,l);return{labelProps:w,inputProps:{...m,role:"switch",checked:f},isSelected:f,isPressed:i,isDisabled:S,isReadOnly:h}}function Ze(t={}){var b,l;const w=Fe(),[m,f]=Re(t,oe.variantKeys),{ref:i,as:S,name:h,value:F="",isReadOnly:A=!1,autoFocus:P=!1,startContent:c,endContent:o,defaultSelected:g,isSelected:N,children:x,thumbIcon:R,className:D,classNames:r,onChange:B,onValueChange:U,...p}=m,u=S||"label",k=de(null),I=de(null),z=(l=(b=t.disableAnimation)!=null?b:w==null?void 0:w.disableAnimation)!=null?l:!1,E=De(),j=ne(()=>{const d=p["aria-label"]||typeof x=="string"?x:void 0;return{name:h,value:F,children:x,autoFocus:P,defaultSelected:g,isSelected:N,isDisabled:!!t.isDisabled,isReadOnly:A,"aria-label":d,"aria-labelledby":p["aria-labelledby"]||E,onChange:U}},[F,h,E,x,P,A,N,g,t.isDisabled,p["aria-label"],p["aria-labelledby"],U]),G=Te(j);Ae(()=>{if(!I.current)return;const d=!!I.current.checked;G.setSelected(d)},[I.current]);const{inputProps:n,isPressed:C,isReadOnly:V}=Qe(j,G,I),{focusProps:W,isFocused:le,isFocusVisible:re}=Ie({autoFocus:n.autoFocus}),{hoverProps:pe,isHovered:ie}=Ee({isDisabled:n.disabled}),ce=j.isDisabled||V?!1:C,X=n.checked,Z=n.disabled,T=ne(()=>oe({...f,disableAnimation:z}),[Le(f),z]),be=$(r==null?void 0:r.base,D),xe=d=>({...ee(pe,p,d),ref:k,className:T.base({class:$(be,d==null?void 0:d.className)}),"data-disabled":Y(Z),"data-selected":Y(X),"data-readonly":Y(V),"data-focus":Y(le),"data-focus-visible":Y(re),"data-hover":Y(ie),"data-pressed":Y(ce)}),Ne=_((d={})=>({...d,"aria-hidden":!0,className:$(T.wrapper({class:$(r==null?void 0:r.wrapper,d==null?void 0:d.className)}))}),[T,r==null?void 0:r.wrapper]),ye=(d={})=>({...ee(n,W,d),ref:ze(I,i),id:n.id,className:T.hiddenInput({class:r==null?void 0:r.hiddenInput}),onChange:Ve(B,n.onChange)}),ve=_((d={})=>({...d,className:T.thumb({class:$(r==null?void 0:r.thumb,d==null?void 0:d.className)})}),[T,r==null?void 0:r.thumb]),we=_((d={})=>({...d,id:E,className:T.label({class:$(r==null?void 0:r.label,d==null?void 0:d.className)})}),[T,r==null?void 0:r.label,Z,X]),ke=_((d={includeStateProps:!1})=>ee({width:"1em",height:"1em",className:T.thumbIcon({class:$(r==null?void 0:r.thumbIcon)})},d.includeStateProps?{isSelected:X}:{}),[T,r==null?void 0:r.thumbIcon,X]),Ce=_((d={})=>({width:"1em",height:"1em",...d,className:T.startContent({class:$(r==null?void 0:r.startContent,d==null?void 0:d.className)})}),[T,r==null?void 0:r.startContent,X]),_e=_((d={})=>({width:"1em",height:"1em",...d,className:T.endContent({class:$(r==null?void 0:r.endContent,d==null?void 0:d.className)})}),[T,r==null?void 0:r.endContent,X]);return{Component:u,slots:T,classNames:r,domRef:k,children:x,thumbIcon:R,startContent:c,endContent:o,isHovered:ie,isSelected:X,isPressed:ce,isFocused:le,isFocusVisible:re,isDisabled:Z,getBaseProps:xe,getWrapperProps:Ne,getInputProps:ye,getLabelProps:we,getThumbProps:ve,getThumbIconProps:ke,getStartContentProps:Ce,getEndContentProps:_e}}var ge=We((t,b)=>{const{Component:l,children:w,startContent:m,endContent:f,thumbIcon:i,getBaseProps:S,getInputProps:h,getWrapperProps:F,getThumbProps:A,getThumbIconProps:P,getLabelProps:c,getStartContentProps:o,getEndContentProps:g}=Ze({...t,ref:b}),N=typeof i=="function"?i(P({includeStateProps:!0})):i&&ae(i,P()),x=m&&ae(m,o()),R=f&&ae(f,g());return a(l,{...S(),children:[e("input",{...h()}),a("span",{...F(),children:[m&&x,e("span",{...A(),children:i&&N}),f&&R]}),w&&e("span",{...c(),children:w})]})});ge.displayName="HeroUI.Switch";var te=ge;const ea=({isOpen:t,onOpenChange:b})=>{const[l,w]=O(null),[m,f]=O(!1),[i,S]=O(!1),[h,F]=O(!1),[A,P]=O(null),[c,o]=O(null),[g,N]=O(""),x=ne(()=>{if(!c)return{categories:0,ranges:0,products:0,totalFiles:0,totalFolders:0};const{structured_data:p,total_folders:u,total_objects:k}=c,I=Object.keys(p).length;let z=0,E=0,j=0;return Object.values(p).forEach(G=>{z+=Object.keys(G).length,Object.values(G).forEach(n=>{E+=Object.keys(n).length,Object.values(n).forEach(C=>{j+=C.images.length+C.downloads.length})})}),{categories:I,ranges:z,products:E,totalFiles:j,totalFolders:u||0}},[c]);me(()=>{t&&(R(),o(null),P(null))},[t]);const R=_(async()=>{var p;f(!0);try{const u=await fetch("/wp-json/urbana/v1/digital-ocean/config",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":((p=window.urbanaAdmin)==null?void 0:p.nonce)||""}});if(u.ok){const k=await u.json();w(k)}}catch(u){console.error("Failed to load config:",u)}finally{f(!1)}},[]),D=_(async()=>{var p;S(!0),P(null);try{const u=await fetch("/wp-json/urbana/v1/digital-ocean/test-connection",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":((p=window.urbanaAdmin)==null?void 0:p.nonce)||""}});if(u.ok){const k=await u.json();P(k)}else P({success:!1,message:"Connection test failed"})}catch(u){const k=u instanceof Error?u.message:"Unknown error occurred";P({success:!1,message:k})}finally{S(!1)}},[]),r=_(async()=>{var p;F(!0),o(null);try{const u=await fetch("/wp-json/urbana/v1/digital-ocean/fetch-assets",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":((p=window.urbanaAdmin)==null?void 0:p.nonce)||""},body:JSON.stringify({prefix:g})});if(u.ok){const k=await u.json();o(k)}else throw new Error(`Failed to fetch assets: ${u.status} ${u.statusText}`)}catch(u){const k=u instanceof Error?u.message:"Unknown error occurred";o({success:!1,message:k,total_folders:0,total_objects:0,raw_folders:[],raw_objects:[],structured_data:{},debug_info:{prefix:g||"",configuration:l||{bucket_name:"",region:"",endpoint:"",configured:!1},categories:[]}})}finally{F(!1)}},[g,l]),B=_(()=>{o(null),P(null),F(!1),S(!1),b(!1)},[b]),U=p=>Object.entries(p).map(([u,k])=>a("div",{className:"mb-4",children:[a("h4",{className:"font-semibold text-lg text-primary mb-2 flex items-center gap-2",children:[e(s,{icon:"lucide:folder",width:16}),u]}),Object.entries(k).map(([I,z])=>a("div",{className:"ml-4 mb-3",children:[a("h5",{className:"font-medium text-secondary mb-1 flex items-center gap-2",children:[e(s,{icon:"lucide:folder-open",width:14}),I]}),Object.entries(z).map(([E,j])=>a("div",{className:"ml-4 mb-2",children:[a("h6",{className:"font-medium text-success mb-1 flex items-center gap-2",children:[e(s,{icon:"lucide:package",width:12}),E]}),a("div",{className:"ml-4 text-sm space-y-1",children:[j.images.length>0&&a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:image",width:12,className:"text-primary"}),a("span",{children:["Images: ",j.images.length]}),e(J,{size:"sm",variant:"flat",color:"primary",children:j.images.length})]}),j.downloads.length>0&&a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:file",width:12,className:"text-secondary"}),a("span",{children:["Downloads: ",j.downloads.length]}),e(J,{size:"sm",variant:"flat",color:"secondary",children:j.downloads.length})]})]})]},E))]},I))]},u));return e(He,{isOpen:t,onOpenChange:b,size:"5xl",scrollBehavior:"inside",className:"urbana-modal",isDismissable:!h&&!i,children:e(Ue,{children:p=>a(he,{children:[a(Xe,{className:"flex flex-col gap-1",children:[a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:cloud-download",width:20}),"Fetch from Digital Ocean Spaces"]}),e("p",{className:"text-sm text-foreground-500 font-normal",children:"Browse and analyze assets stored in your Digital Ocean Spaces"})]}),e(Ye,{children:a("div",{className:"space-y-6",children:[e(y,{className:l!=null&&l.configured?"border-success":"border-warning",children:a(v,{children:[a("div",{className:"flex items-center justify-between",children:[a("div",{className:"flex items-center gap-3",children:[e(s,{icon:l!=null&&l.configured?"lucide:check-circle":"lucide:alert-circle",width:20,className:l!=null&&l.configured?"text-success":"text-warning"}),a("div",{children:[e("h4",{className:"font-semibold",children:"Configuration Status"}),e("p",{className:"text-sm text-foreground-500",children:l!=null&&l.configured?"Digital Ocean Spaces is configured":"Configuration required"})]})]}),e(M,{color:"primary",variant:"flat",size:"sm",onPress:D,isLoading:i,isDisabled:!(l!=null&&l.configured)||i||h,startContent:i?void 0:e(s,{icon:"lucide:wifi",width:16}),children:i?"Testing...":"Test Connection"})]}),l&&a("div",{className:"mt-3 text-sm text-foreground-600",children:[a("div",{children:["Bucket: ",l.bucket_name||"Not set"]}),a("div",{children:["Region: ",l.region||"Not set"]}),a("div",{children:["Endpoint: ",l.endpoint||"Not set"]})]}),A&&e("div",{className:"mt-3",children:e(J,{size:"sm",variant:"flat",color:A.success?"success":"danger",startContent:e(s,{icon:A.success?"lucide:check":"lucide:x",width:12}),children:A.message})})]})}),e(y,{children:e(v,{children:a("div",{className:"space-y-4",children:[a("h4",{className:"font-semibold flex items-center gap-2 mb-2",children:[e(s,{icon:"lucide:settings",width:16}),"Fetch Options"]}),e(q,{label:"Prefix Filter (Optional)",placeholder:"e.g., shelter/ or shelter/peninsula/",value:g,onValueChange:N,description:"Filter objects by prefix to limit the search scope",startContent:e(s,{icon:"lucide:filter",width:16}),isDisabled:h,classNames:{input:"urbana-input"}})]})})}),h&&e(y,{className:"border-primary",children:e(v,{children:a("div",{className:"space-y-3",children:[a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:loader",width:16,className:"animate-spin text-primary"}),e("span",{className:"font-semibold",children:"Fetching Assets..."})]}),e(Ke,{isIndeterminate:!0,color:"primary",size:"sm",className:"w-full"}),e("p",{className:"text-sm text-foreground-500",children:"Please wait while we fetch assets from Digital Ocean Spaces..."})]})})}),c&&e(y,{className:c.success?"border-success":"border-danger",children:e(v,{children:a(fe,{"aria-label":"Fetch Results",children:[e(K,{title:a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:bar-chart",width:16}),"Summary"]}),children:a("div",{className:"space-y-4",children:[a("div",{className:"flex items-center gap-2",children:[e(s,{icon:c.success?"lucide:check-circle":"lucide:x-circle",width:16,className:c.success?"text-success":"text-danger"}),e("span",{className:"font-semibold",children:c.success?"Fetch Successful!":"Fetch Failed"})]}),e("p",{className:"text-sm",children:c.message}),c.success&&a("div",{className:"grid grid-cols-5 gap-4 text-center mt-4",children:[a("div",{children:[e("div",{className:"text-2xl font-bold text-primary",children:x.categories}),e("div",{className:"text-sm text-foreground-500",children:"Categories"})]}),a("div",{children:[e("div",{className:"text-2xl font-bold text-secondary",children:x.ranges}),e("div",{className:"text-sm text-foreground-500",children:"Ranges"})]}),a("div",{children:[e("div",{className:"text-2xl font-bold text-success",children:x.products}),e("div",{className:"text-sm text-foreground-500",children:"Products"})]}),a("div",{children:[e("div",{className:"text-2xl font-bold text-warning",children:x.totalFiles}),e("div",{className:"text-sm text-foreground-500",children:"Files"})]}),a("div",{children:[e("div",{className:"text-2xl font-bold text-danger",children:x.totalFolders}),e("div",{className:"text-sm text-foreground-500",children:"Folders"})]})]})]})},"summary"),e(K,{title:a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:folder-tree",width:16}),"Structure"]}),children:e(Q,{className:"max-h-96",children:e("div",{className:"text-sm",children:Object.keys(c.structured_data).length>0?U(c.structured_data):a("div",{className:"text-center text-foreground-500 py-8",children:[e(s,{icon:"lucide:folder-x",width:48,className:"mx-auto mb-2 opacity-50"}),e("p",{children:"No structured data found"})]})})})},"structure"),e(K,{title:a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:bug",width:16}),"Debug"]}),children:e(Q,{className:"max-h-96",children:a("div",{className:"space-y-4 text-sm",children:[a("div",{children:[e("h5",{className:"font-medium mb-2",children:"Configuration"}),e(se,{className:"text-xs",children:JSON.stringify(c.debug_info.configuration,null,2)})]}),a("div",{children:[e("h5",{className:"font-medium mb-2",children:"Folders Found"}),e(Q,{className:"max-h-32",children:e(se,{className:"text-xs",children:c.raw_folders.length>0?c.raw_folders.join(`
`):"No folders found"})})]}),a("div",{children:[e("h5",{className:"font-medium mb-2",children:"Fetch Summary"}),a("div",{className:"space-y-1",children:[a("div",{children:["Prefix: ",c.debug_info.prefix||"(none)"]}),a("div",{children:["Total Folders: ",c.total_folders]}),a("div",{children:["Total Objects: ",c.total_objects]}),a("div",{children:["Categories Found: ",c.debug_info.categories.join(", ")||"(none)"]})]})]}),c.raw_objects.length>0&&a("div",{children:[e("h5",{className:"font-medium mb-2",children:"Sample Objects"}),e(Q,{className:"max-h-32",children:e(se,{className:"text-xs",children:JSON.stringify(c.raw_objects.slice(0,5),null,2)})})]})]})})},"debug")]})})})]})}),a(qe,{children:[e(M,{variant:"light",onPress:B,isDisabled:h||i,children:c?"Close":"Cancel"}),!c&&e(M,{color:"primary",onPress:r,isLoading:h,isDisabled:!(l!=null&&l.configured)||h||i,startContent:h?void 0:e(s,{icon:"lucide:cloud-download",width:16}),children:h?"Fetching...":"Fetch Assets"})]})]})})})},aa=[{key:"nyc1",label:"New York 1"},{key:"nyc2",label:"New York 2"},{key:"nyc3",label:"New York 3"},{key:"ams3",label:"Amsterdam 3"},{key:"sfo2",label:"San Francisco 2"},{key:"sfo3",label:"San Francisco 3"},{key:"sgp1",label:"Singapore 1"},{key:"lon1",label:"London 1"},{key:"fra1",label:"Frankfurt 1"},{key:"tor1",label:"Toronto 1"},{key:"blr1",label:"Bangalore 1"},{key:"syd1",label:"Sydney 1"},{key:"atl1",label:"Atlanta 1"}],sa=({settings:t,onChange:b})=>{var R,D,r,B,U,p,u,k,I,z,E,j,G;const[l,w]=O(!1),[m,f]=O(null),[i,S]=O(!1),[h,F]=O(null),{isOpen:A,onOpen:P,onOpenChange:c}=Je(),o=_((n,C)=>{b({[n]:C})},[b]),g=_((n,C)=>{const V=t.reverse_sync||{enabled:!1,auto_create_group_folders:!0,auto_create_range_folders:!0,auto_create_product_folders:!0,base_path:""};b({reverse_sync:{...V,[n]:C}})},[b,t.reverse_sync]),N=_(async()=>{var n;w(!0),f(null);try{const C=await fetch("/wp-json/urbana/v1/digital-ocean/test-connection",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":((n=window.urbanaAdmin)==null?void 0:n.nonce)||""}});if(C.ok){const V=await C.json();f(V)}else f({success:!1,message:"Failed to test connection"})}catch{f({success:!1,message:"Connection test failed"})}finally{w(!1)}},[]),x=_(async()=>{var n,C;S(!0),F(null);try{const V=await fetch("/wp-json/urbana/v1/digital-ocean/create-group-folders",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":((n=window.urbanaAdmin)==null?void 0:n.nonce)||""},body:JSON.stringify({group_ids:["test-sync-folder"],base_path:((C=t.reverse_sync)==null?void 0:C.base_path)||""})});if(V.ok){const W=await V.json();F({success:W.success,message:W.success?"Test sync completed successfully!":W.message,details:W})}else{const W=await V.json();F({success:!1,message:W.message||"Test sync failed",details:W})}}catch{F({success:!1,message:"Failed to test sync. Please check your configuration and connection."})}finally{S(!1)}},[(R=t.reverse_sync)==null?void 0:R.base_path]);return a("div",{className:"space-y-6",children:[a("div",{children:[e("h2",{className:"text-2xl font-semibold mb-2",children:"Digital Ocean Spaces"}),e("p",{className:"text-foreground-500",children:"Configure your Digital Ocean Spaces for asset storage and management."})]}),m&&e(y,{className:`border ${m.success?"border-success":"border-danger"}`,children:e(v,{children:a("div",{className:"flex items-center gap-3",children:[e(s,{icon:m.success?"lucide:check-circle":"lucide:x-circle",width:20,className:m.success?"text-success":"text-danger"}),a("div",{children:[e("p",{className:"font-medium",children:m.success?"Connection Successful":"Connection Failed"}),e("p",{className:"text-sm text-foreground-500",children:m.message})]})]})})}),a("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a(y,{className:"h-fit",children:[e(L,{children:a("h3",{className:"font-semibold flex items-center gap-2",children:[e(s,{icon:"lucide:settings",width:16}),"Configuration"]})}),a(v,{className:"space-y-4",children:[e(q,{label:"Bucket Name",placeholder:"your-bucket-name",value:t.bucket_name,onValueChange:n=>o("bucket_name",n),startContent:e(s,{icon:"lucide:bucket",width:16}),isRequired:!0,classNames:{input:"urbana-input"}}),e($e,{label:"Region",placeholder:"Select a region",selectedKeys:t.region?[t.region]:[],onSelectionChange:n=>{const C=Array.from(n)[0];C&&o("region",C)},children:aa.map(n=>e(Ge,{children:n.label},n.key))}),e(q,{label:"Access Key",placeholder:"Your access key",value:t.access_key,onValueChange:n=>o("access_key",n),startContent:e(s,{icon:"lucide:key",width:16}),isRequired:!0,classNames:{input:"urbana-input"}}),e(q,{label:"Secret Key",placeholder:"Your secret key",type:"password",value:t.secret_key,onValueChange:n=>o("secret_key",n),startContent:e(s,{icon:"lucide:eye-off",width:16}),isRequired:!0,classNames:{input:"urbana-input"}}),e(q,{label:"CDN Endpoint (Optional)",placeholder:"https://your-cdn-endpoint.com",value:t.cdn_endpoint||"",onValueChange:n=>o("cdn_endpoint",n),startContent:e(s,{icon:"lucide:globe",width:16}),description:"Use your CDN URL if configured, or leave empty to use direct bucket URLs",classNames:{input:"urbana-input"}}),e(H,{}),a("div",{className:"flex items-center justify-between",children:[a("div",{children:[e("p",{className:"font-medium",children:"Configuration Status"}),e("p",{className:"text-sm text-foreground-500",children:t.configured?"Ready to use":"Configuration incomplete"})]}),e(J,{size:"sm",variant:"flat",color:t.configured?"success":"warning",startContent:e(s,{icon:t.configured?"lucide:check":"lucide:alert-circle",width:12}),children:t.configured?"Configured":"Setup Required"})]}),e(M,{color:"primary",variant:"flat",onPress:N,isLoading:l,isDisabled:!t.bucket_name||!t.access_key||!t.secret_key,startContent:l?void 0:e(s,{icon:"lucide:wifi",width:16}),className:"w-full",children:l?"Testing...":"Test Connection"}),e(M,{color:"secondary",variant:"flat",onPress:P,isDisabled:!t.configured,startContent:e(s,{icon:"lucide:cloud-download",width:16}),className:"w-full",children:"Browse Assets"})]})]}),a(y,{className:"h-fit",children:[e(L,{children:a("h3",{className:"font-semibold flex items-center gap-2",children:[e(s,{icon:"lucide:info",width:16}),"Setup Instructions"]})}),a(v,{className:"space-y-4",children:[a("div",{className:"space-y-3",children:[a("div",{className:"flex items-start gap-3",children:[e("div",{className:"w-6 h-6 rounded-full bg-primary text-white text-xs flex items-center justify-center font-bold mt-0.5",children:"1"}),a("div",{children:[e("p",{className:"font-medium",children:"Create a Space"}),e("p",{className:"text-sm text-foreground-500",children:"Go to your Digital Ocean dashboard and create a new Space"})]})]}),a("div",{className:"flex items-start gap-3",children:[e("div",{className:"w-6 h-6 rounded-full bg-primary text-white text-xs flex items-center justify-center font-bold mt-0.5",children:"2"}),a("div",{children:[e("p",{className:"font-medium",children:"Generate API Keys"}),e("p",{className:"text-sm text-foreground-500",children:"Create API keys with read/write permissions for Spaces"})]})]}),a("div",{className:"flex items-start gap-3",children:[e("div",{className:"w-6 h-6 rounded-full bg-primary text-white text-xs flex items-center justify-center font-bold mt-0.5",children:"3"}),a("div",{children:[e("p",{className:"font-medium",children:"Configure Settings"}),e("p",{className:"text-sm text-foreground-500",children:"Enter your bucket name, region, and API credentials above"})]})]}),a("div",{className:"flex items-start gap-3",children:[e("div",{className:"w-6 h-6 rounded-full bg-success text-white text-xs flex items-center justify-center font-bold mt-0.5",children:e(s,{icon:"lucide:check",width:12})}),a("div",{children:[e("p",{className:"font-medium",children:"Test Connection"}),e("p",{className:"text-sm text-foreground-500",children:"Use the test button to verify your configuration"})]})]})]}),e(H,{}),e("div",{className:"bg-warning-50 border border-warning-200 rounded-lg p-4",children:a("div",{className:"flex items-start gap-2",children:[e(s,{icon:"lucide:alert-triangle",width:16,className:"text-warning-600 mt-0.5"}),a("div",{children:[e("p",{className:"font-medium text-warning-800",children:"Security Note"}),e("p",{className:"text-sm text-warning-700",children:"API keys are stored securely in your WordPress database. Never share these credentials."})]})]})})]})]})]}),e(ea,{isOpen:A,onOpenChange:c}),h&&e(y,{className:`border ${h.success?"border-success":"border-danger"}`,children:e(v,{children:a("div",{className:"flex items-center gap-3",children:[e(s,{icon:h.success?"lucide:check-circle":"lucide:x-circle",width:20,className:h.success?"text-success":"text-danger"}),a("div",{children:[e("p",{className:"font-medium",children:h.success?"Sync Test Successful":"Sync Test Failed"}),e("p",{className:"text-sm text-foreground-500",children:h.message})]})]})})}),a(y,{children:[e(L,{children:a("div",{className:"flex justify-between items-center w-full",children:[a("h3",{className:"font-semibold flex items-center gap-2",children:[e(s,{icon:"lucide:refresh-cw",width:16}),"Reverse Sync Settings"]}),e(J,{size:"sm",variant:"flat",color:(D=t.reverse_sync)!=null&&D.enabled?"success":"default",startContent:e(s,{icon:(r=t.reverse_sync)!=null&&r.enabled?"lucide:check":"lucide:x",width:12}),children:(B=t.reverse_sync)!=null&&B.enabled?"Enabled":"Disabled"})]})}),a(v,{className:"space-y-4",children:[e("div",{className:"text-sm text-foreground-600 mb-4",children:e("p",{children:"Automatically create Digital Ocean folder structure when groups, ranges, or products are added via admin."})}),a("div",{className:"space-y-4",children:[a("div",{className:"flex items-center justify-between p-3 bg-default/20 rounded-medium",children:[a("div",{className:"flex items-center gap-3",children:[e(s,{icon:"lucide:toggle-left",width:20}),a("div",{children:[e("p",{className:"font-medium",children:"Enable Reverse Sync"}),e("p",{className:"text-xs text-foreground-500",children:"Master toggle for automatic folder creation"})]})]}),a("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",className:"sr-only peer",checked:((U=t.reverse_sync)==null?void 0:U.enabled)||!1,onChange:n=>g("enabled",n.target.checked)}),e("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),((p=t.reverse_sync)==null?void 0:p.enabled)&&a(he,{children:[e(H,{}),a("div",{className:"space-y-2",children:[e(q,{label:"Base Path",placeholder:"Leave empty for root level",value:((u=t.reverse_sync)==null?void 0:u.base_path)||"",onValueChange:n=>g("base_path",n),startContent:e(s,{icon:"lucide:folder",width:16}),description:(k=t.reverse_sync)!=null&&k.base_path?`Folders will be created under: ${t.reverse_sync.base_path}/`:"Folders will be created at root level (recommended)",classNames:{input:"urbana-input"}}),e("div",{className:"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:a("div",{className:"flex items-start gap-2",children:[e(s,{icon:"lucide:info",width:16,className:"text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),a("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:[e("p",{className:"font-medium mb-1",children:"Base Path Configuration:"}),a("ul",{className:"list-disc list-inside space-y-1 ml-1",children:[a("li",{children:[e("strong",{children:"Empty (recommended):"})," Creates ",e("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded",children:"Shelter/Peninsula/"})]}),a("li",{children:[e("strong",{children:'"assets/products":'})," Creates ",e("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded",children:"assets/products/Shelter/Peninsula/"})]})]}),e("p",{className:"mt-2",children:'If your Digital Ocean already has folders at root level (like "Shelter", "toilet"), leave this empty.'})]})]})})]}),e(H,{}),a("div",{className:"space-y-3",children:[e("h4",{className:"font-medium text-sm",children:"Auto-Create Folders For:"}),a("div",{className:"space-y-2",children:[a("div",{className:"flex items-center justify-between p-2 rounded-small hover:bg-default/10",children:[a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:layers",width:16}),e("span",{className:"text-sm",children:"Product Groups"})]}),a("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",className:"sr-only peer",checked:((I=t.reverse_sync)==null?void 0:I.auto_create_group_folders)!==!1,onChange:n=>g("auto_create_group_folders",n.target.checked)}),e("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),a("div",{className:"flex items-center justify-between p-2 rounded-small hover:bg-default/10",children:[a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:grid-3x3",width:16}),e("span",{className:"text-sm",children:"Product Ranges"})]}),a("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",className:"sr-only peer",checked:((z=t.reverse_sync)==null?void 0:z.auto_create_range_folders)!==!1,onChange:n=>g("auto_create_range_folders",n.target.checked)}),e("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),a("div",{className:"flex items-center justify-between p-2 rounded-small hover:bg-default/10",children:[a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:package",width:16}),e("span",{className:"text-sm",children:"Individual Products"})]}),a("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",className:"sr-only peer",checked:((E=t.reverse_sync)==null?void 0:E.auto_create_product_folders)!==!1,onChange:n=>g("auto_create_product_folders",n.target.checked)}),e("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),a("div",{className:"flex items-center justify-between p-2 rounded-small hover:bg-default/10",children:[a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:letter-case",width:16}),e("span",{className:"text-sm",children:"Preserve folder case"})]}),a("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",className:"sr-only peer",checked:((j=t.reverse_sync)==null?void 0:j.preserve_folder_case)===!0,onChange:n=>g("preserve_folder_case",n.target.checked)}),e("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),e(H,{}),a("div",{className:"flex gap-2",children:[e(M,{size:"sm",variant:"flat",color:"secondary",startContent:e(s,{icon:"lucide:eye",width:14}),onPress:()=>{},children:"View Sync Logs"}),e(M,{size:"sm",variant:"flat",color:"primary",startContent:i?void 0:e(s,{icon:"lucide:play",width:14}),onPress:x,isLoading:i,isDisabled:!t.configured||!((G=t.reverse_sync)!=null&&G.enabled),children:i?"Testing...":"Test Sync"})]})]})]})]})]}),a(y,{children:[e(L,{children:a("h3",{className:"font-semibold flex items-center gap-2",children:[e(s,{icon:"lucide:folder-tree",width:16}),"Expected Folder Structure"]})}),a(v,{children:[e("p",{className:"text-sm text-foreground-600 mb-4",children:"Your Digital Ocean Space should follow this folder structure for optimal integration:"}),e("pre",{className:"px-2 py-1 h-fit font-mono font-normal bg-default/40 text-default-700 rounded-small text-xs overflow-x-auto",children:e("code",{children:`your-bucket-name/
â”œâ”€â”€ shelter/
â”‚   â””â”€â”€ peninsula/
â”‚       â””â”€â”€ k302/
â”‚           â”œâ”€â”€ images/
â”‚           â”‚   â”œâ”€â”€ hero.jpg
â”‚           â”‚   â””â”€â”€ gallery-1.jpg
â”‚           â”œâ”€â”€ downloads/
â”‚           â”‚   â”œâ”€â”€ spec.pdf
â”‚           â”‚   â””â”€â”€ install.pdf
â”‚           â””â”€â”€ img_conf/
â”‚               â”œâ”€â”€ Post Material/
â”‚               â”‚   â”œâ”€â”€ Pine.jpg
â”‚               â”‚   â””â”€â”€ Concrete.jpg
â”‚               â”œâ”€â”€ Seat Material/
â”‚               â”‚   â”œâ”€â”€ Recycled Plastic.jpg
â”‚               â”‚   â””â”€â”€ Thermoplastic.jpg
â”‚               â””â”€â”€ Finish/
â”‚                   â”œâ”€â”€ Galvanized.jpg
â”‚                   â””â”€â”€ Powder Coated.jpg
â”‚               
â”œâ”€â”€ seating/
â”‚   â””â”€â”€ bench/
â”‚       â””â”€â”€ b100/
â”‚           â”œâ”€â”€ images/
â”‚           â””â”€â”€ downloads/
â””â”€â”€ ...`})}),a("div",{className:"mt-4 text-sm text-foreground-500 space-y-2",children:[e("p",{children:"â€¢ Category folders (e.g., shelter, seating, bridge)"}),e("p",{children:"â€¢ Range folders (e.g., peninsula, bench, decorative)"}),e("p",{children:"â€¢ Product code folders (e.g., k302, b100)"}),e("p",{children:"â€¢ Asset type folders: images/ and downloads/"})]})]})]}),a(y,{className:"border-2 border-warning-200 dark:border-warning-800",children:[e(L,{children:a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:alert-circle",width:20,className:"text-warning-600"}),e("h3",{className:"font-semibold text-warning-800 dark:text-warning-400",children:"Important: Renaming Groups, Ranges, or Products"})]})}),a(v,{className:"space-y-4",children:[e("div",{className:"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:a("div",{className:"flex items-start gap-3",children:[e(s,{icon:"lucide:edit",width:20,className:"text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),a("div",{className:"flex-1",children:[e("h4",{className:"font-semibold text-blue-800 dark:text-blue-300 mb-2",children:"Renaming in WordPress Admin (Recommended)"}),a("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:[e("p",{children:"When you rename a Product Group, Range, or Product in the admin:"}),a("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[e("li",{children:"Edit the item and change the name"}),e("li",{children:"Click Save"}),a("li",{children:[e("strong",{children:"Popup will ask:"}),' "Do you want to rename the Digital Ocean folder?"']}),a("li",{children:[e("strong",{children:"Click OK:"})," Folder and all files are automatically renamed in Digital Ocean âœ“"]}),a("li",{children:[e("strong",{children:"Click Cancel:"})," Only WordPress is updated, folder keeps old name"]})]}),a("div",{className:"bg-blue-100 dark:bg-blue-900 rounded p-2 mt-2",children:[e("p",{className:"font-medium",children:"ðŸ’¡ Best Practice:"}),e("p",{children:"Always rename in WordPress first and let the plugin handle Digital Ocean automatically!"})]})]})]})]})}),e("div",{className:"bg-orange-50 dark:bg-orange-950 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:a("div",{className:"flex items-start gap-3",children:[e(s,{icon:"lucide:cloud",width:20,className:"text-orange-600 dark:text-orange-400 mt-0.5 flex-shrink-0"}),a("div",{className:"flex-1",children:[e("h4",{className:"font-semibold text-orange-800 dark:text-orange-300 mb-2",children:"If Folder Name is Changed in Digital Ocean"}),a("div",{className:"text-sm text-orange-700 dark:text-orange-300 space-y-2",children:[e("p",{className:"font-medium",children:"âš ï¸ Short answer: Nothing happens automatically - WordPress won't know about it."}),a("div",{className:"bg-orange-100 dark:bg-orange-900 rounded p-3 mt-2",children:[e("p",{className:"font-medium mb-1",children:"Example Scenario:"}),a("p",{children:["You rename ",e("code",{className:"bg-orange-200 dark:bg-orange-800 px-1 rounded",children:"Shelter/Peninsula/"})," â†’ ",e("code",{className:"bg-orange-200 dark:bg-orange-800 px-1 rounded",children:"Shelter/Peninsula-V2/"})," in Digital Ocean"]})]}),a("div",{className:"space-y-2 mt-2",children:[e("p",{className:"font-medium",children:"What happens:"}),a("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[e("li",{children:'WordPress database still has: Product Range name = "Peninsula"'}),e("li",{children:'Digital Ocean now has: Folder = "Shelter/Peninsula-V2/"'})]})]}),a("div",{className:"space-y-2 mt-2",children:[e("p",{className:"font-medium",children:"Plugin behavior:"}),a("ul",{className:"space-y-1 ml-2",children:[a("li",{className:"flex items-start gap-2",children:[e(s,{icon:"lucide:x",width:14,className:"text-danger mt-0.5"}),a("span",{children:['"Check Folders" will show "Peninsula" as ',e("strong",{children:'"Missing"'})]})]}),a("li",{className:"flex items-start gap-2",children:[e(s,{icon:"lucide:x",width:14,className:"text-danger mt-0.5"}),e("span",{children:"Frontend image URLs will break (looking for old path)"})]}),a("li",{className:"flex items-start gap-2",children:[e(s,{icon:"lucide:alert-triangle",width:14,className:"text-warning-600 mt-0.5"}),e("span",{children:'If you click "Sync" â†’ Creates a NEW folder "Shelter/Peninsula/"'})]}),a("li",{className:"flex items-start gap-2",children:[e(s,{icon:"lucide:alert-triangle",width:14,className:"text-warning-600 mt-0.5"}),a("span",{children:[e("strong",{children:"Result:"})," Two folders (Peninsula and Peninsula-V2)"]})]})]})]}),a("div",{className:"bg-orange-100 dark:bg-orange-900 rounded p-3 mt-3",children:[e("p",{className:"font-medium mb-2",children:"âœ“ What You Need to Do:"}),a("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[e("li",{children:"Rename folder in Digital Ocean"}),a("li",{children:[e("strong",{children:"Also"})," rename the Product Range in WordPress admin to match"]}),e("li",{children:"Or manually update image URLs"})]})]})]})]})]})}),a("div",{className:"bg-default/40 rounded-lg p-4",children:[a("h4",{className:"font-semibold text-foreground-700 mb-2 flex items-center gap-2",children:[e(s,{icon:"lucide:lightbulb",width:16}),"General Tips"]}),a("ul",{className:"text-sm text-foreground-600 space-y-2 ml-6",children:[a("li",{className:"flex items-start gap-2",children:[e("span",{className:"text-primary font-bold",children:"â€¢"}),a("span",{children:[e("strong",{children:"Case Sensitivity:"}),' Digital Ocean is case-sensitive. "Shelter" and "shelter" are different folders!']})]}),a("li",{className:"flex items-start gap-2",children:[e("span",{className:"text-primary font-bold",children:"â€¢"}),a("span",{children:[e("strong",{children:"Always Check:"}),' After renaming, use "Check Folders" to verify everything is in sync']})]}),a("li",{className:"flex items-start gap-2",children:[e("span",{className:"text-primary font-bold",children:"â€¢"}),a("span",{children:[e("strong",{children:"Backup First:"})," Before bulk renaming, download important files as backup"]})]})]})]})]})]})]})},ta=({settings:t,onChange:b})=>{var w,m,f;const l=_((i,S)=>{b({[i]:S})},[b]);return a("div",{className:"space-y-6",children:[a("div",{children:[e("h2",{className:"text-2xl font-semibold mb-2",children:"General Settings"}),e("p",{className:"text-foreground-500",children:"Configure general plugin behavior and preferences."})]}),a("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a(y,{children:[e(L,{children:a("h3",{className:"font-semibold flex items-center gap-2",children:[e(s,{icon:"lucide:bell",width:16}),"Notifications"]})}),e(v,{className:"space-y-4",children:a("div",{className:"flex items-center justify-between",children:[a("div",{children:[e("p",{className:"font-medium",children:"Email Notifications"}),e("p",{className:"text-sm text-foreground-500",children:"Receive email notifications for new form submissions"})]}),e(te,{isSelected:t.email_notifications,onValueChange:i=>l("email_notifications",i),color:"primary"})]})})]}),a(y,{children:[e(L,{children:a("h3",{className:"font-semibold flex items-center gap-2",children:[e(s,{icon:"lucide:save",width:16}),"Data Management"]})}),e(v,{className:"space-y-4",children:a("div",{className:"flex items-center justify-between",children:[a("div",{children:[e("p",{className:"font-medium",children:"Auto Save"}),e("p",{className:"text-sm text-foreground-500",children:"Automatically save changes as you work"})]}),e(te,{isSelected:t.auto_save,onValueChange:i=>l("auto_save",i),color:"primary"})]})})]}),a(y,{children:[e(L,{children:a("h3",{className:"font-semibold flex items-center gap-2",children:[e(s,{icon:"lucide:bug",width:16}),"Development"]})}),a(v,{className:"space-y-4",children:[a("div",{className:"flex items-center justify-between",children:[a("div",{children:[e("p",{className:"font-medium",children:"Debug Mode"}),e("p",{className:"text-sm text-foreground-500",children:"Enable debug logging and additional developer information"})]}),e(te,{isSelected:t.debug_mode,onValueChange:i=>l("debug_mode",i),color:"warning"})]}),t.debug_mode&&e("div",{className:"bg-warning-50 border border-warning-200 rounded-lg p-4",children:a("div",{className:"flex items-start gap-2",children:[e(s,{icon:"lucide:alert-triangle",width:16,className:"text-warning-600 mt-0.5"}),a("div",{children:[e("p",{className:"font-medium text-warning-800",children:"Debug Mode Active"}),e("p",{className:"text-sm text-warning-700",children:"Additional logging is enabled. Disable in production for better performance."})]})]})})]})]}),a(y,{children:[e(L,{children:a("h3",{className:"font-semibold flex items-center gap-2",children:[e(s,{icon:"lucide:info",width:16}),"Additional Options"]})}),a(v,{children:[e("p",{className:"text-sm text-foreground-500 mb-4",children:"More configuration options will be available in future updates."}),a("div",{className:"space-y-3",children:[a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:check",width:12,className:"text-success"}),e("span",{className:"text-sm",children:"Database optimization"})]}),a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:check",width:12,className:"text-success"}),e("span",{className:"text-sm",children:"Performance monitoring"})]}),a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:check",width:12,className:"text-success"}),e("span",{className:"text-sm",children:"Advanced caching options"})]})]})]})]})]}),a(y,{children:[e(L,{children:a("h3",{className:"font-semibold flex items-center gap-2",children:[e(s,{icon:"lucide:server",width:16}),"System Information"]})}),e(v,{children:a("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a("div",{children:[e("p",{className:"font-medium text-foreground-700",children:"WordPress Version"}),e("p",{className:"text-foreground-500",children:((w=window.urbanaAdmin)==null?void 0:w.wpVersion)||"Unknown"})]}),a("div",{children:[e("p",{className:"font-medium text-foreground-700",children:"PHP Version"}),e("p",{className:"text-foreground-500",children:((m=window.urbanaAdmin)==null?void 0:m.phpVersion)||"Unknown"})]}),a("div",{children:[e("p",{className:"font-medium text-foreground-700",children:"Plugin Version"}),e("p",{className:"text-foreground-500",children:((f=window.urbanaAdmin)==null?void 0:f.pluginVersion)||"1.0.0"})]})]})})]})]})},na=()=>{const[t,b]=O(!0),[l,w]=O(!1),[m,f]=O({digitalOcean:{bucket_name:"",region:"nyc3",access_key:"",secret_key:"",cdn_endpoint:"",configured:!1},general:{email_notifications:!0,auto_save:!0,debug_mode:!1}}),[i,S]=O(!1),[h,F]=O(null);me(()=>{A()},[]);const A=_(async()=>{var o,g;b(!0);try{const N=await fetch("/wp-json/urbana/v1/digital-ocean/config",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":((o=window.urbanaAdmin)==null?void 0:o.nonce)||""}});if(N.ok){const R=await N.json();f(D=>({...D,digitalOcean:{...D.digitalOcean,...R}}))}const x=await fetch("/wp-json/urbana/v1/general-settings",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":((g=window.urbanaAdmin)==null?void 0:g.nonce)||""}});if(x.ok){const R=await x.json();f(D=>({...D,general:{...D.general,...R}}))}}catch(N){console.error("Failed to load settings:",N)}finally{b(!1)}},[]),P=_((o,g)=>{f(N=>({...N,[o]:{...N[o],...g}})),S(!0)},[]),c=_(async()=>{var o,g,N,x,R,D;w(!0);try{if(!(await fetch("/wp-json/urbana/v1/digital-ocean/config",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":((o=window.urbanaAdmin)==null?void 0:o.nonce)||""},body:JSON.stringify(m.digitalOcean)})).ok)throw new Error("Failed to save Digital Ocean settings");if(!(await fetch("/wp-json/urbana/v1/general-settings",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":((g=window.urbanaAdmin)==null?void 0:g.nonce)||""},body:JSON.stringify(m.general)})).ok)throw new Error("Failed to save general settings");S(!1),F(new Date),(x=(N=window.wp)==null?void 0:N.data)!=null&&x.dispatch("core/notices")&&window.wp.data.dispatch("core/notices").createSuccessNotice("Settings saved successfully!")}catch(r){console.error("Failed to save settings:",r),(D=(R=window.wp)==null?void 0:R.data)!=null&&D.dispatch("core/notices")&&window.wp.data.dispatch("core/notices").createErrorNotice("Failed to save settings. Please try again.")}finally{w(!1)}},[m]);return t?e("div",{className:"flex items-center justify-center min-h-96",children:a("div",{className:"text-center space-y-4",children:[e(Me,{size:"lg",color:"primary"}),e("p",{className:"text-foreground-500",children:"Loading settings..."})]})}):a("div",{className:"urbana-settings-page max-w-6xl mx-auto p-6 space-y-6",children:[a("div",{className:"flex justify-between items-start",children:[a("div",{children:[e("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Settings"}),e("p",{className:"text-foreground-500",children:"Configure your Urbana Selector plugin settings"})]}),a("div",{className:"flex items-center gap-4",children:[h&&a("div",{className:"text-sm text-foreground-500 text-right",children:[e("div",{className:"text-xs",children:"Last saved:"}),e("div",{className:"font-medium",children:h.toLocaleString()})]}),e(M,{color:i?"primary":"success",variant:i?"solid":"flat",onPress:c,isLoading:l,isDisabled:l||!i,startContent:l?void 0:e(s,{icon:"lucide:save",width:18}),size:"lg",children:l?"Saving...":i?"Save Changes":"Saved"})]})]}),e(y,{className:"overflow-visible",children:e(v,{className:"p-0",children:a(fe,{"aria-label":"Settings",variant:"underlined",classNames:{tabList:"gap-6 w-full relative rounded-none p-0 border-b border-divider",cursor:"w-full bg-primary",tab:"max-w-fit px-6 h-12",tabContent:"group-data-[selected=true]:text-primary"},children:[e(K,{title:a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:cloud",width:18}),e("span",{children:"Digital Ocean"}),e(J,{size:"sm",variant:"flat",color:m.digitalOcean.configured?"success":"warning",children:m.digitalOcean.configured?"Configured":"Setup Required"})]}),children:e("div",{className:"p-6",children:e(sa,{settings:m.digitalOcean,onChange:o=>P("digitalOcean",o)})})},"digital-ocean"),e(K,{title:a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:settings",width:18}),e("span",{children:"General"})]}),children:e("div",{className:"p-6",children:e(ta,{settings:m.general,onChange:o=>P("general",o)})})},"general"),e(K,{title:a("div",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:info",width:18}),e("span",{children:"About"})]}),children:e("div",{className:"p-6",children:a("div",{className:"space-y-6",children:[a("div",{children:[e("h3",{className:"text-xl font-semibold mb-3",children:"Urbana Selector Plugin"}),e("p",{className:"text-foreground-600 mb-4",children:"A comprehensive product configuration system for Urbana products with advanced data management capabilities."})]}),e(H,{}),a("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a(y,{className:"border",children:[e(L,{children:a("h4",{className:"font-semibold flex items-center gap-2",children:[e(s,{icon:"lucide:package",width:16}),"Features"]})}),e(v,{children:a("ul",{className:"space-y-2 text-sm",children:[a("li",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:check",width:12,className:"text-success"}),"Product data management"]}),a("li",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:check",width:12,className:"text-success"}),"Digital Ocean Spaces integration"]}),a("li",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:check",width:12,className:"text-success"}),"Asset folder generation"]}),a("li",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:check",width:12,className:"text-success"}),"Customer order management"]})]})})]}),a(y,{className:"border",children:[e(L,{children:a("h4",{className:"font-semibold flex items-center gap-2",children:[e(s,{icon:"lucide:code",width:16}),"Tech Stack"]})}),e(v,{children:a("ul",{className:"space-y-2 text-sm",children:[a("li",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:check",width:12,className:"text-success"}),"React 18+ with TypeScript"]}),a("li",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:check",width:12,className:"text-success"}),"HeroUI component library"]}),a("li",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:check",width:12,className:"text-success"}),"PHP 8.1+ backend"]}),a("li",{className:"flex items-center gap-2",children:[e(s,{icon:"lucide:check",width:12,className:"text-success"}),"WordPress REST API"]})]})})]})]})]})})},"about")]})})})]})},la=()=>e("div",{className:"min-h-screen bg-background text-foreground",children:e(na,{})}),ue=document.getElementById("urbana-settings-root");ue&&Be(ue).render(e(la,{}));
