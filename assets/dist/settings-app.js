import{t as be,b6 as Ne,b7 as ye,b9 as ve,p as we,z as ke,r as n,bc as Ce,Y as Se,$ as _e,v as Pe,A as Oe,c as V,w as Q,S as Fe,a$ as Re,x as U,f as De,j as e,I as s,d as N,e as y,b as $,i as X,C as H,s as Te,l as Ae,B as Y,g as Ie,aK as Ee}from"./client.js";import{m as ze,a as Le,b as Ve,d as We,c as K,e as $e,u as Me}from"./index.js";import{p as Ge,c as Z}from"./chunk-XVMALT6H.js";import{t as ie,a as q,c as I}from"./chunk-ML27DD5T.js";var le=be({slots:{base:"group relative max-w-fit inline-flex items-center justify-start cursor-pointer touch-none tap-highlight-transparent select-none",wrapper:["px-1","relative","inline-flex","items-center","justify-start","shrink-0","overflow-hidden","bg-default-200","rounded-full",...ye],thumb:["z-10","flex","items-center","justify-center","bg-white","shadow-small","rounded-full","origin-right","pointer-events-none"],hiddenInput:Ne,startContent:"z-0 absolute start-1.5 text-current",endContent:"z-0 absolute end-1.5 text-default-600",thumbIcon:"text-black",label:"relative text-foreground select-none ms-2"},variants:{color:{default:{wrapper:["group-data-[selected=true]:bg-default-400","group-data-[selected=true]:text-default-foreground"]},primary:{wrapper:["group-data-[selected=true]:bg-primary","group-data-[selected=true]:text-primary-foreground"]},secondary:{wrapper:["group-data-[selected=true]:bg-secondary","group-data-[selected=true]:text-secondary-foreground"]},success:{wrapper:["group-data-[selected=true]:bg-success","group-data-[selected=true]:text-success-foreground"]},warning:{wrapper:["group-data-[selected=true]:bg-warning","group-data-[selected=true]:text-warning-foreground"]},danger:{wrapper:["group-data-[selected=true]:bg-danger","data-[selected=true]:text-danger-foreground"]}},size:{sm:{wrapper:"w-10 h-6",thumb:["w-4 h-4 text-tiny","group-data-[selected=true]:ms-4"],endContent:"text-tiny",startContent:"text-tiny",label:"text-small"},md:{wrapper:"w-12 h-7",thumb:["w-5 h-5 text-small","group-data-[selected=true]:ms-5"],endContent:"text-small",startContent:"text-small",label:"text-medium"},lg:{wrapper:"w-14 h-8",thumb:["w-6 h-6 text-medium","group-data-[selected=true]:ms-6"],endContent:"text-medium",startContent:"text-medium",label:"text-large"}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{wrapper:"transition-none",thumb:"transition-none"},false:{wrapper:"transition-background",thumb:"transition-all",startContent:["opacity-0","scale-50","transition-transform-opacity","group-data-[selected=true]:scale-100","group-data-[selected=true]:opacity-100"],endContent:["opacity-100","transition-transform-opacity","group-data-[selected=true]:translate-x-3","group-data-[selected=true]:opacity-0"]}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1},compoundVariants:[{disableAnimation:!1,size:"sm",class:{thumb:["group-data-[pressed=true]:w-5","group-data-[selected]:group-data-[pressed]:ml-3"]}},{disableAnimation:!1,size:"md",class:{thumb:["group-data-[pressed=true]:w-6","group-data-[selected]:group-data-[pressed]:ml-4"]}},{disableAnimation:!1,size:"lg",class:{thumb:["group-data-[pressed=true]:w-7","group-data-[selected]:group-data-[pressed]:ml-5"]}}]});function Be(a,p,l){let{labelProps:v,inputProps:m,isSelected:h,isPressed:i,isDisabled:C,isReadOnly:x}=ve(a,p,l);return{labelProps:v,inputProps:{...m,role:"switch",checked:h},isSelected:h,isPressed:i,isDisabled:C,isReadOnly:x}}function Ue(a={}){var p,l;const v=we(),[m,h]=ke(a,le.variantKeys),{ref:i,as:C,name:x,value:P="",isReadOnly:D=!1,autoFocus:S=!1,startContent:c,endContent:o,defaultSelected:f,isSelected:b,children:j,thumbIcon:O,className:F,classNames:r,onChange:M,onValueChange:G,...g}=m,u=C||"label",w=n.useRef(null),T=n.useRef(null),z=(l=(p=a.disableAnimation)!=null?p:v==null?void 0:v.disableAnimation)!=null?l:!1,A=n.useId(),_=n.useMemo(()=>{const d=g["aria-label"]||typeof j=="string"?j:void 0;return{name:x,value:P,children:j,autoFocus:S,defaultSelected:f,isSelected:b,isDisabled:!!a.isDisabled,isReadOnly:D,"aria-label":d,"aria-labelledby":g["aria-labelledby"]||A,onChange:G}},[P,x,A,j,S,D,b,f,a.isDisabled,g["aria-label"],g["aria-labelledby"],G]),W=Ce(_);Se(()=>{if(!T.current)return;const d=!!T.current.checked;W.setSelected(d)},[T.current]);const{inputProps:t,isPressed:k,isReadOnly:E}=Be(_,W,T),{focusProps:L,isFocused:se,isFocusVisible:ae}=_e({autoFocus:t.autoFocus}),{hoverProps:de,isHovered:te}=Pe({isDisabled:t.disabled}),ne=_.isDisabled||E?!1:k,B=t.checked,J=t.disabled,R=n.useMemo(()=>le({...h,disableAnimation:z}),[Oe(h),z]),oe=V(r==null?void 0:r.base,F),ue=d=>({...Q(de,g,d),ref:w,className:R.base({class:V(oe,d==null?void 0:d.className)}),"data-disabled":U(J),"data-selected":U(B),"data-readonly":U(E),"data-focus":U(se),"data-focus-visible":U(ae),"data-hover":U(te),"data-pressed":U(ne)}),me=n.useCallback((d={})=>({...d,"aria-hidden":!0,className:V(R.wrapper({class:V(r==null?void 0:r.wrapper,d==null?void 0:d.className)}))}),[R,r==null?void 0:r.wrapper]),xe=(d={})=>({...Q(t,L,d),ref:Re(T,i),id:t.id,className:R.hiddenInput({class:r==null?void 0:r.hiddenInput}),onChange:Fe(M,t.onChange)}),he=n.useCallback((d={})=>({...d,className:R.thumb({class:V(r==null?void 0:r.thumb,d==null?void 0:d.className)})}),[R,r==null?void 0:r.thumb]),fe=n.useCallback((d={})=>({...d,id:A,className:R.label({class:V(r==null?void 0:r.label,d==null?void 0:d.className)})}),[R,r==null?void 0:r.label,J,B]),ge=n.useCallback((d={includeStateProps:!1})=>Q({width:"1em",height:"1em",className:R.thumbIcon({class:V(r==null?void 0:r.thumbIcon)})},d.includeStateProps?{isSelected:B}:{}),[R,r==null?void 0:r.thumbIcon,B]),pe=n.useCallback((d={})=>({width:"1em",height:"1em",...d,className:R.startContent({class:V(r==null?void 0:r.startContent,d==null?void 0:d.className)})}),[R,r==null?void 0:r.startContent,B]),je=n.useCallback((d={})=>({width:"1em",height:"1em",...d,className:R.endContent({class:V(r==null?void 0:r.endContent,d==null?void 0:d.className)})}),[R,r==null?void 0:r.endContent,B]);return{Component:u,slots:R,classNames:r,domRef:w,children:j,thumbIcon:O,startContent:c,endContent:o,isHovered:te,isSelected:B,isPressed:ne,isFocused:se,isFocusVisible:ae,isDisabled:J,getBaseProps:ue,getWrapperProps:me,getInputProps:xe,getLabelProps:fe,getThumbProps:he,getThumbIconProps:ge,getStartContentProps:pe,getEndContentProps:je}}var ce=De((a,p)=>{const{Component:l,children:v,startContent:m,endContent:h,thumbIcon:i,getBaseProps:C,getInputProps:x,getWrapperProps:P,getThumbProps:D,getThumbIconProps:S,getLabelProps:c,getStartContentProps:o,getEndContentProps:f}=Ue({...a,ref:p}),b=typeof i=="function"?i(S({includeStateProps:!0})):i&&n.cloneElement(i,S()),j=m&&n.cloneElement(m,o()),O=h&&n.cloneElement(h,f());return e.jsxs(l,{...C(),children:[e.jsx("input",{...x()}),e.jsxs("span",{...P(),children:[m&&j,e.jsx("span",{...D(),children:i&&b}),h&&O]}),v&&e.jsx("span",{...c(),children:v})]})});ce.displayName="HeroUI.Switch";var ee=ce;const Xe=({isOpen:a,onOpenChange:p})=>{const[l,v]=n.useState(null),[m,h]=n.useState(!1),[i,C]=n.useState(!1),[x,P]=n.useState(!1),[D,S]=n.useState(null),[c,o]=n.useState(null),[f,b]=n.useState(""),j=n.useMemo(()=>{if(!c)return{categories:0,ranges:0,products:0,totalFiles:0,totalFolders:0};const{structured_data:g,total_folders:u,total_objects:w}=c,T=Object.keys(g).length;let z=0,A=0,_=0;return Object.values(g).forEach(W=>{z+=Object.keys(W).length,Object.values(W).forEach(t=>{A+=Object.keys(t).length,Object.values(t).forEach(k=>{_+=k.images.length+k.downloads.length})})}),{categories:T,ranges:z,products:A,totalFiles:_,totalFolders:u||0}},[c]);n.useEffect(()=>{a&&(O(),o(null),S(null))},[a]);const O=n.useCallback(async()=>{var g;h(!0);try{const u=await fetch("/wp-json/urbana/v1/digital-ocean/config",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":((g=window.urbanaAdmin)==null?void 0:g.nonce)||""}});if(u.ok){const w=await u.json();v(w)}}catch(u){console.error("Failed to load config:",u)}finally{h(!1)}},[]),F=n.useCallback(async()=>{var g;C(!0),S(null);try{const u=await fetch("/wp-json/urbana/v1/digital-ocean/test-connection",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":((g=window.urbanaAdmin)==null?void 0:g.nonce)||""}});if(u.ok){const w=await u.json();S(w)}else S({success:!1,message:"Connection test failed"})}catch(u){const w=u instanceof Error?u.message:"Unknown error occurred";S({success:!1,message:w})}finally{C(!1)}},[]),r=n.useCallback(async()=>{var g;P(!0),o(null);try{const u=await fetch("/wp-json/urbana/v1/digital-ocean/fetch-assets",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":((g=window.urbanaAdmin)==null?void 0:g.nonce)||""},body:JSON.stringify({prefix:f})});if(u.ok){const w=await u.json();o(w)}else throw new Error(`Failed to fetch assets: ${u.status} ${u.statusText}`)}catch(u){const w=u instanceof Error?u.message:"Unknown error occurred";o({success:!1,message:w,total_folders:0,total_objects:0,raw_folders:[],raw_objects:[],structured_data:{},debug_info:{prefix:f||"",configuration:l||{bucket_name:"",region:"",endpoint:"",configured:!1},categories:[]}})}finally{P(!1)}},[f,l]),M=n.useCallback(()=>{o(null),S(null),P(!1),C(!1),p(!1)},[p]),G=g=>Object.entries(g).map(([u,w])=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("h4",{className:"font-semibold text-lg text-primary mb-2 flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:folder",width:16}),u]}),Object.entries(w).map(([T,z])=>e.jsxs("div",{className:"ml-4 mb-3",children:[e.jsxs("h5",{className:"font-medium text-secondary mb-1 flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:folder-open",width:14}),T]}),Object.entries(z).map(([A,_])=>e.jsxs("div",{className:"ml-4 mb-2",children:[e.jsxs("h6",{className:"font-medium text-success mb-1 flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:package",width:12}),A]}),e.jsxs("div",{className:"ml-4 text-sm space-y-1",children:[_.images.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:image",width:12,className:"text-primary"}),e.jsxs("span",{children:["Images: ",_.images.length]}),e.jsx(K,{size:"sm",variant:"flat",color:"primary",children:_.images.length})]}),_.downloads.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:file",width:12,className:"text-secondary"}),e.jsxs("span",{children:["Downloads: ",_.downloads.length]}),e.jsx(K,{size:"sm",variant:"flat",color:"secondary",children:_.downloads.length})]})]})]},A))]},T))]},u));return e.jsx(ze,{isOpen:a,onOpenChange:p,size:"5xl",scrollBehavior:"inside",className:"urbana-modal",isDismissable:!x&&!i,children:e.jsx(Le,{children:g=>e.jsxs(e.Fragment,{children:[e.jsxs(Ve,{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:cloud-download",width:20}),"Fetch from Digital Ocean Spaces"]}),e.jsx("p",{className:"text-sm text-foreground-500 font-normal",children:"Browse and analyze assets stored in your Digital Ocean Spaces"})]}),e.jsx(We,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(N,{className:l!=null&&l.configured?"border-success":"border-warning",children:e.jsxs(y,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(s,{icon:l!=null&&l.configured?"lucide:check-circle":"lucide:alert-circle",width:20,className:l!=null&&l.configured?"text-success":"text-warning"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Configuration Status"}),e.jsx("p",{className:"text-sm text-foreground-500",children:l!=null&&l.configured?"Digital Ocean Spaces is configured":"Configuration required"})]})]}),e.jsx($,{color:"primary",variant:"flat",size:"sm",onPress:F,isLoading:i,isDisabled:!(l!=null&&l.configured)||i||x,startContent:i?void 0:e.jsx(s,{icon:"lucide:wifi",width:16}),children:i?"Testing...":"Test Connection"})]}),l&&e.jsxs("div",{className:"mt-3 text-sm text-foreground-600",children:[e.jsxs("div",{children:["Bucket: ",l.bucket_name||"Not set"]}),e.jsxs("div",{children:["Region: ",l.region||"Not set"]}),e.jsxs("div",{children:["Endpoint: ",l.endpoint||"Not set"]})]}),D&&e.jsx("div",{className:"mt-3",children:e.jsx(K,{size:"sm",variant:"flat",color:D.success?"success":"danger",startContent:e.jsx(s,{icon:D.success?"lucide:check":"lucide:x",width:12}),children:D.message})})]})}),e.jsx(N,{children:e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-2",children:[e.jsx(s,{icon:"lucide:settings",width:16}),"Fetch Options"]}),e.jsx(X,{label:"Prefix Filter (Optional)",placeholder:"e.g., shelter/ or shelter/peninsula/",value:f,onValueChange:b,description:"Filter objects by prefix to limit the search scope",startContent:e.jsx(s,{icon:"lucide:filter",width:16}),isDisabled:x,classNames:{input:"urbana-input"}})]})})}),x&&e.jsx(N,{className:"border-primary",children:e.jsx(y,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:loader",width:16,className:"animate-spin text-primary"}),e.jsx("span",{className:"font-semibold",children:"Fetching Assets..."})]}),e.jsx(Ge,{isIndeterminate:!0,color:"primary",size:"sm",className:"w-full"}),e.jsx("p",{className:"text-sm text-foreground-500",children:"Please wait while we fetch assets from Digital Ocean Spaces..."})]})})}),c&&e.jsx(N,{className:c.success?"border-success":"border-danger",children:e.jsx(y,{children:e.jsxs(ie,{"aria-label":"Fetch Results",children:[e.jsx(q,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:bar-chart",width:16}),"Summary"]}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:c.success?"lucide:check-circle":"lucide:x-circle",width:16,className:c.success?"text-success":"text-danger"}),e.jsx("span",{className:"font-semibold",children:c.success?"Fetch Successful!":"Fetch Failed"})]}),e.jsx("p",{className:"text-sm",children:c.message}),c.success&&e.jsxs("div",{className:"grid grid-cols-5 gap-4 text-center mt-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:j.categories}),e.jsx("div",{className:"text-sm text-foreground-500",children:"Categories"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-secondary",children:j.ranges}),e.jsx("div",{className:"text-sm text-foreground-500",children:"Ranges"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-success",children:j.products}),e.jsx("div",{className:"text-sm text-foreground-500",children:"Products"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-warning",children:j.totalFiles}),e.jsx("div",{className:"text-sm text-foreground-500",children:"Files"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-danger",children:j.totalFolders}),e.jsx("div",{className:"text-sm text-foreground-500",children:"Folders"})]})]})]})},"summary"),e.jsx(q,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:folder-tree",width:16}),"Structure"]}),children:e.jsx(H,{className:"max-h-96",children:e.jsx("div",{className:"text-sm",children:Object.keys(c.structured_data).length>0?G(c.structured_data):e.jsxs("div",{className:"text-center text-foreground-500 py-8",children:[e.jsx(s,{icon:"lucide:folder-x",width:48,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No structured data found"})]})})})},"structure"),e.jsx(q,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:bug",width:16}),"Debug"]}),children:e.jsx(H,{className:"max-h-96",children:e.jsxs("div",{className:"space-y-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"Configuration"}),e.jsx(Z,{className:"text-xs",children:JSON.stringify(c.debug_info.configuration,null,2)})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"Folders Found"}),e.jsx(H,{className:"max-h-32",children:e.jsx(Z,{className:"text-xs",children:c.raw_folders.length>0?c.raw_folders.join(`
`):"No folders found"})})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"Fetch Summary"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:["Prefix: ",c.debug_info.prefix||"(none)"]}),e.jsxs("div",{children:["Total Folders: ",c.total_folders]}),e.jsxs("div",{children:["Total Objects: ",c.total_objects]}),e.jsxs("div",{children:["Categories Found: ",c.debug_info.categories.join(", ")||"(none)"]})]})]}),c.raw_objects.length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"Sample Objects"}),e.jsx(H,{className:"max-h-32",children:e.jsx(Z,{className:"text-xs",children:JSON.stringify(c.raw_objects.slice(0,5),null,2)})})]})]})})},"debug")]})})})]})}),e.jsxs($e,{children:[e.jsx($,{variant:"light",onPress:M,isDisabled:x||i,children:c?"Close":"Cancel"}),!c&&e.jsx($,{color:"primary",onPress:r,isLoading:x,isDisabled:!(l!=null&&l.configured)||x||i,startContent:x?void 0:e.jsx(s,{icon:"lucide:cloud-download",width:16}),children:x?"Fetching...":"Fetch Assets"})]})]})})})},Ye=[{key:"nyc1",label:"New York 1"},{key:"nyc2",label:"New York 2"},{key:"nyc3",label:"New York 3"},{key:"ams3",label:"Amsterdam 3"},{key:"sfo2",label:"San Francisco 2"},{key:"sfo3",label:"San Francisco 3"},{key:"sgp1",label:"Singapore 1"},{key:"lon1",label:"London 1"},{key:"fra1",label:"Frankfurt 1"},{key:"tor1",label:"Toronto 1"},{key:"blr1",label:"Bangalore 1"},{key:"syd1",label:"Sydney 1"},{key:"atl1",label:"Atlanta 1"}],Ke=({settings:a,onChange:p})=>{var O,F,r,M,G,g,u,w,T,z,A,_,W;const[l,v]=n.useState(!1),[m,h]=n.useState(null),[i,C]=n.useState(!1),[x,P]=n.useState(null),{isOpen:D,onOpen:S,onOpenChange:c}=Me(),o=n.useCallback((t,k)=>{p({[t]:k})},[p]),f=n.useCallback((t,k)=>{const E=a.reverse_sync||{enabled:!1,auto_create_group_folders:!0,auto_create_range_folders:!0,auto_create_product_folders:!0,base_path:""};p({reverse_sync:{...E,[t]:k}})},[p,a.reverse_sync]),b=n.useCallback(async()=>{var t;v(!0),h(null);try{const k=await fetch("/wp-json/urbana/v1/digital-ocean/test-connection",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":((t=window.urbanaAdmin)==null?void 0:t.nonce)||""}});if(k.ok){const E=await k.json();h(E)}else h({success:!1,message:"Failed to test connection"})}catch{h({success:!1,message:"Connection test failed"})}finally{v(!1)}},[]),j=n.useCallback(async()=>{var t,k;C(!0),P(null);try{const E=await fetch("/wp-json/urbana/v1/digital-ocean/create-group-folders",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":((t=window.urbanaAdmin)==null?void 0:t.nonce)||""},body:JSON.stringify({group_ids:["test-sync-folder"],base_path:((k=a.reverse_sync)==null?void 0:k.base_path)||""})});if(E.ok){const L=await E.json();P({success:L.success,message:L.success?"Test sync completed successfully!":L.message,details:L})}else{const L=await E.json();P({success:!1,message:L.message||"Test sync failed",details:L})}}catch{P({success:!1,message:"Failed to test sync. Please check your configuration and connection."})}finally{C(!1)}},[(O=a.reverse_sync)==null?void 0:O.base_path]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Digital Ocean Spaces"}),e.jsx("p",{className:"text-foreground-500",children:"Configure your Digital Ocean Spaces for asset storage and management."})]}),m&&e.jsx(N,{className:`border ${m.success?"border-success":"border-danger"}`,children:e.jsx(y,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(s,{icon:m.success?"lucide:check-circle":"lucide:x-circle",width:20,className:m.success?"text-success":"text-danger"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:m.success?"Connection Successful":"Connection Failed"}),e.jsx("p",{className:"text-sm text-foreground-500",children:m.message})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(N,{className:"h-fit",children:[e.jsx(I,{children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:settings",width:16}),"Configuration"]})}),e.jsxs(y,{className:"space-y-4",children:[e.jsx(X,{label:"Bucket Name",placeholder:"your-bucket-name",value:a.bucket_name,onValueChange:t=>o("bucket_name",t),startContent:e.jsx(s,{icon:"lucide:bucket",width:16}),isRequired:!0,classNames:{input:"urbana-input"}}),e.jsx(Te,{label:"Region",placeholder:"Select a region",selectedKeys:a.region?[a.region]:[],onSelectionChange:t=>{const k=Array.from(t)[0];k&&o("region",k)},children:Ye.map(t=>e.jsx(Ae,{children:t.label},t.key))}),e.jsx(X,{label:"Access Key",placeholder:"Your access key",value:a.access_key,onValueChange:t=>o("access_key",t),startContent:e.jsx(s,{icon:"lucide:key",width:16}),isRequired:!0,classNames:{input:"urbana-input"}}),e.jsx(X,{label:"Secret Key",placeholder:"Your secret key",type:"password",value:a.secret_key,onValueChange:t=>o("secret_key",t),startContent:e.jsx(s,{icon:"lucide:eye-off",width:16}),isRequired:!0,classNames:{input:"urbana-input"}}),e.jsx(X,{label:"CDN Endpoint (Optional)",placeholder:"https://your-cdn-endpoint.com",value:a.cdn_endpoint||"",onValueChange:t=>o("cdn_endpoint",t),startContent:e.jsx(s,{icon:"lucide:globe",width:16}),description:"Use your CDN URL if configured, or leave empty to use direct bucket URLs",classNames:{input:"urbana-input"}}),e.jsx(Y,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Configuration Status"}),e.jsx("p",{className:"text-sm text-foreground-500",children:a.configured?"Ready to use":"Configuration incomplete"})]}),e.jsx(K,{size:"sm",variant:"flat",color:a.configured?"success":"warning",startContent:e.jsx(s,{icon:a.configured?"lucide:check":"lucide:alert-circle",width:12}),children:a.configured?"Configured":"Setup Required"})]}),e.jsx($,{color:"primary",variant:"flat",onPress:b,isLoading:l,isDisabled:!a.bucket_name||!a.access_key||!a.secret_key,startContent:l?void 0:e.jsx(s,{icon:"lucide:wifi",width:16}),className:"w-full",children:l?"Testing...":"Test Connection"}),e.jsx($,{color:"secondary",variant:"flat",onPress:S,isDisabled:!a.configured,startContent:e.jsx(s,{icon:"lucide:cloud-download",width:16}),className:"w-full",children:"Browse Assets"})]})]}),e.jsxs(N,{className:"h-fit",children:[e.jsx(I,{children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:info",width:16}),"Setup Instructions"]})}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-primary text-white text-xs flex items-center justify-center font-bold mt-0.5",children:"1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Create a Space"}),e.jsx("p",{className:"text-sm text-foreground-500",children:"Go to your Digital Ocean dashboard and create a new Space"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-primary text-white text-xs flex items-center justify-center font-bold mt-0.5",children:"2"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Generate API Keys"}),e.jsx("p",{className:"text-sm text-foreground-500",children:"Create API keys with read/write permissions for Spaces"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-primary text-white text-xs flex items-center justify-center font-bold mt-0.5",children:"3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Configure Settings"}),e.jsx("p",{className:"text-sm text-foreground-500",children:"Enter your bucket name, region, and API credentials above"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-success text-white text-xs flex items-center justify-center font-bold mt-0.5",children:e.jsx(s,{icon:"lucide:check",width:12})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Test Connection"}),e.jsx("p",{className:"text-sm text-foreground-500",children:"Use the test button to verify your configuration"})]})]})]}),e.jsx(Y,{}),e.jsx("div",{className:"bg-warning-50 border border-warning-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(s,{icon:"lucide:alert-triangle",width:16,className:"text-warning-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-warning-800",children:"Security Note"}),e.jsx("p",{className:"text-sm text-warning-700",children:"API keys are stored securely in your WordPress database. Never share these credentials."})]})]})})]})]})]}),e.jsx(Xe,{isOpen:D,onOpenChange:c}),x&&e.jsx(N,{className:`border ${x.success?"border-success":"border-danger"}`,children:e.jsx(y,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(s,{icon:x.success?"lucide:check-circle":"lucide:x-circle",width:20,className:x.success?"text-success":"text-danger"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:x.success?"Sync Test Successful":"Sync Test Failed"}),e.jsx("p",{className:"text-sm text-foreground-500",children:x.message})]})]})})}),e.jsxs(N,{children:[e.jsx(I,{children:e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:refresh-cw",width:16}),"Reverse Sync Settings"]}),e.jsx(K,{size:"sm",variant:"flat",color:(F=a.reverse_sync)!=null&&F.enabled?"success":"default",startContent:e.jsx(s,{icon:(r=a.reverse_sync)!=null&&r.enabled?"lucide:check":"lucide:x",width:12}),children:(M=a.reverse_sync)!=null&&M.enabled?"Enabled":"Disabled"})]})}),e.jsxs(y,{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-foreground-600 mb-4",children:e.jsx("p",{children:"Automatically create Digital Ocean folder structure when groups, ranges, or products are added via admin."})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-default/20 rounded-medium",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(s,{icon:"lucide:toggle-left",width:20}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Enable Reverse Sync"}),e.jsx("p",{className:"text-xs text-foreground-500",children:"Master toggle for automatic folder creation"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:((G=a.reverse_sync)==null?void 0:G.enabled)||!1,onChange:t=>f("enabled",t.target.checked)}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),((g=a.reverse_sync)==null?void 0:g.enabled)&&e.jsxs(e.Fragment,{children:[e.jsx(Y,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{label:"Base Path",placeholder:"Leave empty for root level",value:((u=a.reverse_sync)==null?void 0:u.base_path)||"",onValueChange:t=>f("base_path",t),startContent:e.jsx(s,{icon:"lucide:folder",width:16}),description:(w=a.reverse_sync)!=null&&w.base_path?`Folders will be created under: ${a.reverse_sync.base_path}/`:"Folders will be created at root level (recommended)",classNames:{input:"urbana-input"}}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(s,{icon:"lucide:info",width:16,className:"text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:[e.jsx("p",{className:"font-medium mb-1",children:"Base Path Configuration:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Empty (recommended):"})," Creates ",e.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded",children:"Shelter/Peninsula/"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:'"assets/products":'})," Creates ",e.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded",children:"assets/products/Shelter/Peninsula/"})]})]}),e.jsx("p",{className:"mt-2",children:'If your Digital Ocean already has folders at root level (like "Shelter", "toilet"), leave this empty.'})]})]})})]}),e.jsx(Y,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Auto-Create Folders For:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-small hover:bg-default/10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:layers",width:16}),e.jsx("span",{className:"text-sm",children:"Product Groups"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:((T=a.reverse_sync)==null?void 0:T.auto_create_group_folders)!==!1,onChange:t=>f("auto_create_group_folders",t.target.checked)}),e.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-small hover:bg-default/10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:grid-3x3",width:16}),e.jsx("span",{className:"text-sm",children:"Product Ranges"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:((z=a.reverse_sync)==null?void 0:z.auto_create_range_folders)!==!1,onChange:t=>f("auto_create_range_folders",t.target.checked)}),e.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-small hover:bg-default/10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:package",width:16}),e.jsx("span",{className:"text-sm",children:"Individual Products"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:((A=a.reverse_sync)==null?void 0:A.auto_create_product_folders)!==!1,onChange:t=>f("auto_create_product_folders",t.target.checked)}),e.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-small hover:bg-default/10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:letter-case",width:16}),e.jsx("span",{className:"text-sm",children:"Preserve folder case"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:((_=a.reverse_sync)==null?void 0:_.preserve_folder_case)===!0,onChange:t=>f("preserve_folder_case",t.target.checked)}),e.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),e.jsx(Y,{}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx($,{size:"sm",variant:"flat",color:"secondary",startContent:e.jsx(s,{icon:"lucide:eye",width:14}),onPress:()=>{},children:"View Sync Logs"}),e.jsx($,{size:"sm",variant:"flat",color:"primary",startContent:i?void 0:e.jsx(s,{icon:"lucide:play",width:14}),onPress:j,isLoading:i,isDisabled:!a.configured||!((W=a.reverse_sync)!=null&&W.enabled),children:i?"Testing...":"Test Sync"})]})]})]})]})]}),e.jsxs(N,{children:[e.jsx(I,{children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:folder-tree",width:16}),"Expected Folder Structure"]})}),e.jsxs(y,{children:[e.jsx("p",{className:"text-sm text-foreground-600 mb-4",children:"Your Digital Ocean Space should follow this folder structure for optimal integration:"}),e.jsx("pre",{className:"px-2 py-1 h-fit font-mono font-normal bg-default/40 text-default-700 rounded-small text-xs overflow-x-auto",children:e.jsx("code",{children:`your-bucket-name/
â”œâ”€â”€ shelter/
â”‚   â””â”€â”€ peninsula/
â”‚       â””â”€â”€ k302/
â”‚           â”œâ”€â”€ images/
â”‚           â”‚   â”œâ”€â”€ hero.jpg
â”‚           â”‚   â””â”€â”€ gallery-1.jpg
â”‚           â”œâ”€â”€ downloads/
â”‚           â”‚   â”œâ”€â”€ spec.pdf
â”‚           â”‚   â””â”€â”€ install.pdf
â”‚           â””â”€â”€ img_conf/
â”‚               â”œâ”€â”€ Post Material/
â”‚               â”‚   â”œâ”€â”€ Pine.jpg
â”‚               â”‚   â””â”€â”€ Concrete.jpg
â”‚               â”œâ”€â”€ Seat Material/
â”‚               â”‚   â”œâ”€â”€ Recycled Plastic.jpg
â”‚               â”‚   â””â”€â”€ Thermoplastic.jpg
â”‚               â””â”€â”€ Finish/
â”‚                   â”œâ”€â”€ Galvanized.jpg
â”‚                   â””â”€â”€ Powder Coated.jpg
â”‚               
â”œâ”€â”€ seating/
â”‚   â””â”€â”€ bench/
â”‚       â””â”€â”€ b100/
â”‚           â”œâ”€â”€ images/
â”‚           â””â”€â”€ downloads/
â””â”€â”€ ...`})}),e.jsxs("div",{className:"mt-4 text-sm text-foreground-500 space-y-2",children:[e.jsx("p",{children:"â€¢ Category folders (e.g., shelter, seating, bridge)"}),e.jsx("p",{children:"â€¢ Range folders (e.g., peninsula, bench, decorative)"}),e.jsx("p",{children:"â€¢ Product code folders (e.g., k302, b100)"}),e.jsx("p",{children:"â€¢ Asset type folders: images/ and downloads/"})]})]})]}),e.jsxs(N,{className:"border-2 border-warning-200 dark:border-warning-800",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:alert-circle",width:20,className:"text-warning-600"}),e.jsx("h3",{className:"font-semibold text-warning-800 dark:text-warning-400",children:"Important: Renaming Groups, Ranges, or Products"})]})}),e.jsxs(y,{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(s,{icon:"lucide:edit",width:20,className:"text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-300 mb-2",children:"Renaming in WordPress Admin (Recommended)"}),e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:[e.jsx("p",{children:"When you rename a Product Group, Range, or Product in the admin:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[e.jsx("li",{children:"Edit the item and change the name"}),e.jsx("li",{children:"Click Save"}),e.jsxs("li",{children:[e.jsx("strong",{children:"Popup will ask:"}),' "Do you want to rename the Digital Ocean folder?"']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Click OK:"})," Folder and all files are automatically renamed in Digital Ocean âœ“"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Click Cancel:"})," Only WordPress is updated, folder keeps old name"]})]}),e.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900 rounded p-2 mt-2",children:[e.jsx("p",{className:"font-medium",children:"ðŸ’¡ Best Practice:"}),e.jsx("p",{children:"Always rename in WordPress first and let the plugin handle Digital Ocean automatically!"})]})]})]})]})}),e.jsx("div",{className:"bg-orange-50 dark:bg-orange-950 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(s,{icon:"lucide:cloud",width:20,className:"text-orange-600 dark:text-orange-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-orange-800 dark:text-orange-300 mb-2",children:"If Folder Name is Changed in Digital Ocean"}),e.jsxs("div",{className:"text-sm text-orange-700 dark:text-orange-300 space-y-2",children:[e.jsx("p",{className:"font-medium",children:"âš ï¸ Short answer: Nothing happens automatically - WordPress won't know about it."}),e.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900 rounded p-3 mt-2",children:[e.jsx("p",{className:"font-medium mb-1",children:"Example Scenario:"}),e.jsxs("p",{children:["You rename ",e.jsx("code",{className:"bg-orange-200 dark:bg-orange-800 px-1 rounded",children:"Shelter/Peninsula/"})," â†’ ",e.jsx("code",{className:"bg-orange-200 dark:bg-orange-800 px-1 rounded",children:"Shelter/Peninsula-V2/"})," in Digital Ocean"]})]}),e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsx("p",{className:"font-medium",children:"What happens:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[e.jsx("li",{children:'WordPress database still has: Product Range name = "Peninsula"'}),e.jsx("li",{children:'Digital Ocean now has: Folder = "Shelter/Peninsula-V2/"'})]})]}),e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsx("p",{className:"font-medium",children:"Plugin behavior:"}),e.jsxs("ul",{className:"space-y-1 ml-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(s,{icon:"lucide:x",width:14,className:"text-danger mt-0.5"}),e.jsxs("span",{children:['"Check Folders" will show "Peninsula" as ',e.jsx("strong",{children:'"Missing"'})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(s,{icon:"lucide:x",width:14,className:"text-danger mt-0.5"}),e.jsx("span",{children:"Frontend image URLs will break (looking for old path)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(s,{icon:"lucide:alert-triangle",width:14,className:"text-warning-600 mt-0.5"}),e.jsx("span",{children:'If you click "Sync" â†’ Creates a NEW folder "Shelter/Peninsula/"'})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(s,{icon:"lucide:alert-triangle",width:14,className:"text-warning-600 mt-0.5"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Result:"})," Two folders (Peninsula and Peninsula-V2)"]})]})]})]}),e.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900 rounded p-3 mt-3",children:[e.jsx("p",{className:"font-medium mb-2",children:"âœ“ What You Need to Do:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[e.jsx("li",{children:"Rename folder in Digital Ocean"}),e.jsxs("li",{children:[e.jsx("strong",{children:"Also"})," rename the Product Range in WordPress admin to match"]}),e.jsx("li",{children:"Or manually update image URLs"})]})]})]})]})]})}),e.jsxs("div",{className:"bg-default/40 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-foreground-700 mb-2 flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:lightbulb",width:16}),"General Tips"]}),e.jsxs("ul",{className:"text-sm text-foreground-600 space-y-2 ml-6",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary font-bold",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Case Sensitivity:"}),' Digital Ocean is case-sensitive. "Shelter" and "shelter" are different folders!']})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary font-bold",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Always Check:"}),' After renaming, use "Check Folders" to verify everything is in sync']})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary font-bold",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Backup First:"})," Before bulk renaming, download important files as backup"]})]})]})]})]})]})]})},qe=({settings:a,onChange:p})=>{var v,m,h;const l=n.useCallback((i,C)=>{p({[i]:C})},[p]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"General Settings"}),e.jsx("p",{className:"text-foreground-500",children:"Configure general plugin behavior and preferences."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(N,{children:[e.jsx(I,{children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:bell",width:16}),"Notifications"]})}),e.jsx(y,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-foreground-500",children:"Receive email notifications for new form submissions"})]}),e.jsx(ee,{isSelected:a.email_notifications,onValueChange:i=>l("email_notifications",i),color:"primary"})]})})]}),e.jsxs(N,{children:[e.jsx(I,{children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:save",width:16}),"Data Management"]})}),e.jsx(y,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Auto Save"}),e.jsx("p",{className:"text-sm text-foreground-500",children:"Automatically save changes as you work"})]}),e.jsx(ee,{isSelected:a.auto_save,onValueChange:i=>l("auto_save",i),color:"primary"})]})})]}),e.jsxs(N,{children:[e.jsx(I,{children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:bug",width:16}),"Development"]})}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Debug Mode"}),e.jsx("p",{className:"text-sm text-foreground-500",children:"Enable debug logging and additional developer information"})]}),e.jsx(ee,{isSelected:a.debug_mode,onValueChange:i=>l("debug_mode",i),color:"warning"})]}),a.debug_mode&&e.jsx("div",{className:"bg-warning-50 border border-warning-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(s,{icon:"lucide:alert-triangle",width:16,className:"text-warning-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-warning-800",children:"Debug Mode Active"}),e.jsx("p",{className:"text-sm text-warning-700",children:"Additional logging is enabled. Disable in production for better performance."})]})]})})]})]}),e.jsxs(N,{children:[e.jsx(I,{children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:info",width:16}),"Additional Options"]})}),e.jsxs(y,{children:[e.jsx("p",{className:"text-sm text-foreground-500 mb-4",children:"More configuration options will be available in future updates."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:check",width:12,className:"text-success"}),e.jsx("span",{className:"text-sm",children:"Database optimization"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:check",width:12,className:"text-success"}),e.jsx("span",{className:"text-sm",children:"Performance monitoring"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:check",width:12,className:"text-success"}),e.jsx("span",{className:"text-sm",children:"Advanced caching options"})]})]})]})]})]}),e.jsxs(N,{children:[e.jsx(I,{children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:server",width:16}),"System Information"]})}),e.jsx(y,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground-700",children:"WordPress Version"}),e.jsx("p",{className:"text-foreground-500",children:((v=window.urbanaAdmin)==null?void 0:v.wpVersion)||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground-700",children:"PHP Version"}),e.jsx("p",{className:"text-foreground-500",children:((m=window.urbanaAdmin)==null?void 0:m.phpVersion)||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground-700",children:"Plugin Version"}),e.jsx("p",{className:"text-foreground-500",children:((h=window.urbanaAdmin)==null?void 0:h.pluginVersion)||"1.0.0"})]})]})})]})]})},He=()=>{const[a,p]=n.useState(!0),[l,v]=n.useState(!1),[m,h]=n.useState({digitalOcean:{bucket_name:"",region:"nyc3",access_key:"",secret_key:"",cdn_endpoint:"",configured:!1},general:{email_notifications:!0,auto_save:!0,debug_mode:!1}}),[i,C]=n.useState(!1),[x,P]=n.useState(null);n.useEffect(()=>{D()},[]);const D=n.useCallback(async()=>{var o,f;p(!0);try{const b=await fetch("/wp-json/urbana/v1/digital-ocean/config",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":((o=window.urbanaAdmin)==null?void 0:o.nonce)||""}});if(b.ok){const O=await b.json();h(F=>({...F,digitalOcean:{...F.digitalOcean,...O}}))}const j=await fetch("/wp-json/urbana/v1/general-settings",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":((f=window.urbanaAdmin)==null?void 0:f.nonce)||""}});if(j.ok){const O=await j.json();h(F=>({...F,general:{...F.general,...O}}))}}catch(b){console.error("Failed to load settings:",b)}finally{p(!1)}},[]),S=n.useCallback((o,f)=>{h(b=>({...b,[o]:{...b[o],...f}})),C(!0)},[]),c=n.useCallback(async()=>{var o,f,b,j,O,F;v(!0);try{if(!(await fetch("/wp-json/urbana/v1/digital-ocean/config",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":((o=window.urbanaAdmin)==null?void 0:o.nonce)||""},body:JSON.stringify(m.digitalOcean)})).ok)throw new Error("Failed to save Digital Ocean settings");if(!(await fetch("/wp-json/urbana/v1/general-settings",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":((f=window.urbanaAdmin)==null?void 0:f.nonce)||""},body:JSON.stringify(m.general)})).ok)throw new Error("Failed to save general settings");C(!1),P(new Date),(j=(b=window.wp)==null?void 0:b.data)!=null&&j.dispatch("core/notices")&&window.wp.data.dispatch("core/notices").createSuccessNotice("Settings saved successfully!")}catch(r){console.error("Failed to save settings:",r),(F=(O=window.wp)==null?void 0:O.data)!=null&&F.dispatch("core/notices")&&window.wp.data.dispatch("core/notices").createErrorNotice("Failed to save settings. Please try again.")}finally{v(!1)}},[m]);return a?e.jsx("div",{className:"flex items-center justify-center min-h-96",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(Ie,{size:"lg",color:"primary"}),e.jsx("p",{className:"text-foreground-500",children:"Loading settings..."})]})}):e.jsxs("div",{className:"urbana-settings-page max-w-6xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Settings"}),e.jsx("p",{className:"text-foreground-500",children:"Configure your Urbana Selector plugin settings"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[x&&e.jsxs("div",{className:"text-sm text-foreground-500 text-right",children:[e.jsx("div",{className:"text-xs",children:"Last saved:"}),e.jsx("div",{className:"font-medium",children:x.toLocaleString()})]}),e.jsx($,{color:i?"primary":"success",variant:i?"solid":"flat",onPress:c,isLoading:l,isDisabled:l||!i,startContent:l?void 0:e.jsx(s,{icon:"lucide:save",width:18}),size:"lg",children:l?"Saving...":i?"Save Changes":"Saved"})]})]}),e.jsx(N,{className:"overflow-visible",children:e.jsx(y,{className:"p-0",children:e.jsxs(ie,{"aria-label":"Settings",variant:"underlined",classNames:{tabList:"gap-6 w-full relative rounded-none p-0 border-b border-divider",cursor:"w-full bg-primary",tab:"max-w-fit px-6 h-12",tabContent:"group-data-[selected=true]:text-primary"},children:[e.jsx(q,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:cloud",width:18}),e.jsx("span",{children:"Digital Ocean"}),e.jsx(K,{size:"sm",variant:"flat",color:m.digitalOcean.configured?"success":"warning",children:m.digitalOcean.configured?"Configured":"Setup Required"})]}),children:e.jsx("div",{className:"p-6",children:e.jsx(Ke,{settings:m.digitalOcean,onChange:o=>S("digitalOcean",o)})})},"digital-ocean"),e.jsx(q,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:settings",width:18}),e.jsx("span",{children:"General"})]}),children:e.jsx("div",{className:"p-6",children:e.jsx(qe,{settings:m.general,onChange:o=>S("general",o)})})},"general"),e.jsx(q,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:info",width:18}),e.jsx("span",{children:"About"})]}),children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Urbana Selector Plugin"}),e.jsx("p",{className:"text-foreground-600 mb-4",children:"A comprehensive product configuration system for Urbana products with advanced data management capabilities."})]}),e.jsx(Y,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(N,{className:"border",children:[e.jsx(I,{children:e.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:package",width:16}),"Features"]})}),e.jsx(y,{children:e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:check",width:12,className:"text-success"}),"Product data management"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:check",width:12,className:"text-success"}),"Digital Ocean Spaces integration"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:check",width:12,className:"text-success"}),"Asset folder generation"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:check",width:12,className:"text-success"}),"Customer order management"]})]})})]}),e.jsxs(N,{className:"border",children:[e.jsx(I,{children:e.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:code",width:16}),"Tech Stack"]})}),e.jsx(y,{children:e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:check",width:12,className:"text-success"}),"React 18+ with TypeScript"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:check",width:12,className:"text-success"}),"HeroUI component library"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:check",width:12,className:"text-success"}),"PHP 8.1+ backend"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(s,{icon:"lucide:check",width:12,className:"text-success"}),"WordPress REST API"]})]})})]})]})]})})},"about")]})})})]})},Je=()=>e.jsx("div",{className:"min-h-screen bg-background text-foreground",children:e.jsx(He,{})}),re=document.getElementById("urbana-settings-root");re&&Ee.createRoot(re).render(e.jsx(Je,{}));
